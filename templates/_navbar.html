<!-- templates/_navbar.html -->
<nav class="sidebar">
  <!-- å°‡é ‚éƒ¨å’Œä¸­é–“å…§å®¹æ‰“åŒ…åœ¨ä¸€èµ· -->
  <div class="sidebar-top-content">
    <!-- å“ç‰Œæ¨™é¡Œå€å¡Š -->
    <div class="sidebar-brand">
      <img
        src="{{ url_for('static', path='logo.png') }}"
        alt="Logo"
        class="logo"
      /><br />
      <strong class="link-name">OneTouch Portal</strong>
    </div>

    <!-- ä¸»è¦å…§å®¹æ»¾å‹•å€åŸŸ -->
    <div class="sidebar-scrollable-content">
      <ul class="sidebar-links">
        {% for item in nav_items %} {% if not item.admin_only or
        (item.admin_only and role == 'admin') %} {# æª¢æŸ¥æ˜¯å¦æœ‰å­é¸å–® #} {% if
        item.sub_items %}
        <li class="has-submenu">
          <a href="#">
            <span class="icon">{{ item.icon | safe }}</span>
            <span class="link-name">{{ item.name }}</span>
            <span class="arrow"></span>
          </a>
          <ul class="submenu">
            {% for sub_item in item.sub_items %}
            <li>
              <a
                href="{{ sub_item.url }}"
                class="{{ 'active' if sub_item.url == current_path else '' }}"
              >
                <span class="link-name">{{ sub_item.name }}</span>
              </a>
            </li>
            {% endfor %}
          </ul>
        </li>
        {% else %} {# æ²’æœ‰å­é¸å–®çš„æ™®é€šé …ç›® #}
        <li>
          <a
            href="{{ item.url }}"
            class="{{ 'active' if item.url == current_path else '' }}"
          >
            <span class="icon">{{ item.icon | safe }}</span>
            <span class="link-name">{{ item.name }}</span>
          </a>
        </li>
        {% endif %} {% endif %} {% endfor %}
      </ul>
    </div>
  </div>

  <!-- é å°¾é€£çµ, æœƒè¢«æ¨åˆ°æœ€åº•éƒ¨ -->
  <div class="sidebar-footer">
    <a href="/dashboard">
      <span class="icon">ğŸ </span>
      <span class="link-name">å›é¦–é </span>
    </a>
    <a href="/logout">
      <span class="icon">ğŸšª</span>
      <span class="link-name">ç™»å‡º</span>
    </a>
    <!-- æ–°å¢çš„æ”¶åˆæŒ‰éˆ• -->
    <a href="#" id="sidebar-toggle" title="æ”¶åˆé¸å–®">
      <span class="icon toggle-icon">â†”ï¸</span>
      <span class="link-name">æ”¶åˆé¸å–®</span>
    </a>
  </div>
</nav>
